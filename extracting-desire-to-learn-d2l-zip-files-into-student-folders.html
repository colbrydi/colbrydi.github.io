<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Dirk's Home Page - Extracting Desire to learn (D2L) zip files into student folders</title>
    <meta name="description" content="">
    <meta name="author" content="Dr. Dirk Colbry">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="./theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./theme/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
   <img src="./images/2017Dirk.jpg" align="left" width=100 hspace="20">

    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href=".">Dirk's Home Page</a>

        <div class="nav-collapse">
        <ul class="nav">
            <li><a href="/pages/teaching.html">Teaching</a></li>
            <li><a href="/category/professional.html">Blog</a></li>
            <li><a href="/pages/publications.html">Publications</a></li>
            <li><a href="/pages/contact.html">Contact</a></li>
            
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
    <div class='article'>
        <div class="content-title">
            <h1>Extracting Desire to learn (D2L) zip files into student folders</h1>
Mon 15 April 2019

by <a class="url fn" href="./author/dr-dirk-colbry.html">Dr. Dirk Colbry</a>
 


        </div>
	
        <div><p><img align="right," alt="D2L Logo" hspace="10" src="https://info.d2l.com/hs-fs/hubfs/D2L-web-500.png?width=500&amp;name=D2L-web-500.png" width="200,"></p>
<p>At MSU we use Desire to Learn for our classroom content management system.  Students can go to D2L to get their assignments and turn in their assignments though the D2L dropbox.  </p>
<p>When grading, I can download all of the student's submissions into a zip file such as the following:</p>
<p><code>Part 1 - Software Evaluation Download Mar 23, 2019 609 AM.zip</code></p>
<p><code>HW1 - Matrix Transpose Download Feb 2, 2019 1001 AM.zip</code></p>
<p>If this folder is unzipped files similar to the following will appear:</p>
<div class="highlight"><pre><span></span><code><span class="mf">323771</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Sam</span> <span class="n">Smith</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">21</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">652</span> <span class="n">PM</span> <span class="o">-</span> <span class="n">submission</span><span class="mf">.</span><span class="n">tgz</span>
<span class="mf">325034</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Nan</span> <span class="n">Carpenter</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">21</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">330</span> <span class="n">PM</span> <span class="o">-</span> <span class="mf">1</span><span class="n">d</span> <span class="n">wave</span> <span class="n">eqn</span><span class="mf">.</span><span class="n">pages</span>
<span class="mf">325034</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Nan</span> <span class="n">Carpenter</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">21</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">330</span> <span class="n">PM</span> <span class="o">-</span> <span class="n">wave1d</span><span class="mf">.</span><span class="n">py</span>
<span class="mf">331582</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Joe</span> <span class="n">Taylor</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">19</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">315</span> <span class="n">PM</span> <span class="o">-</span> <span class="n">HW1</span><span class="mf">.</span><span class="n">ipynb</span>
<span class="mf">331582</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Joe</span> <span class="n">Taylor</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">19</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">315</span> <span class="n">PM</span> <span class="o">-</span> <span class="n">HW1_report</span><span class="mf">.</span><span class="n">pdf</span>
<span class="mf">331582</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Joe</span> <span class="n">Taylor</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">19</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">315</span> <span class="n">PM</span> <span class="o">-</span> <span class="n">short</span><span class="mf">.</span><span class="n">mp4</span>
<span class="mf">331582</span><span class="o">-</span><span class="mf">372818</span> <span class="o">-</span> <span class="n">Joe</span> <span class="n">Taylor</span> <span class="o">-</span> <span class="n">Jan</span> <span class="mf">19</span><span class="p">,</span> <span class="mf">2019</span> <span class="mf">320</span> <span class="n">PM</span> <span class="o">-</span> <span class="n">HW1</span><span class="mf">.</span><span class="n">tgz</span>
</code></pre></div>

<p>For many of the topics we cover (mostly programming) these filenames are not easy to use.  In my classes student often submit files that need to work together with given file names (everything after the final dash).  I wrote the following program to convert the directory of complex filenames into folders. A separate folder for each student with the files in the folder:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nv">files</span><span class="o">=</span><span class="sb">`</span>ls<span class="sb">`</span>
find . -iname <span class="s2">&quot;*&quot;</span> <span class="p">|</span> <span class="k">while</span> <span class="nb">read</span> file
<span class="k">do</span>
        <span class="nb">echo</span> <span class="nv">$file</span>
        <span class="nv">folder</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nv">$file</span> <span class="p">|</span> cut -d <span class="s2">&quot;-&quot;</span> -f <span class="m">3</span> <span class="p">|</span> xargs<span class="sb">`</span>
        <span class="nb">echo</span> <span class="s2">&quot;creating folder </span><span class="nv">$folder</span><span class="s2">&quot;</span>
        mkdir -p <span class="s2">&quot;</span><span class="nv">$folder</span><span class="s2">&quot;</span>
        <span class="nv">newname</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nv">$file</span> <span class="p">|</span> cut -d <span class="s2">&quot;-&quot;</span> -f5- <span class="p">|</span> xargs<span class="sb">`</span>
        <span class="nb">echo</span> <span class="s2">&quot;Renaming to </span><span class="nv">$newname</span><span class="s2">&quot;</span>
        mv <span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span> <span class="s2">&quot;./</span><span class="nv">$folder</span><span class="s2">/</span><span class="nv">$newname</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>Sam Smith
Nan Carpenter
Joe Taylor
</code></pre></div>

<p>Each directory contains that student's files. For example the <code>Joe Taylor</code> folder will have:</p>
<div class="highlight"><pre><span></span><code>HW1.ipynb
HW1_report.pdf
short.mp4
HW1.tgz
</code></pre></div>

<p>I hope you find this script useful.</p></div>
	
        <hr>

        <h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'DirkColbry'; 
    var disqus_title = 'Extracting Desire to learn (D2L) zip files into student folders';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="./archives.html">Archives</a>
                <li><a href="./tags.html">Tags</a>




            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="./category/fun.html">Fun</a></li>
                <li><a href="./category/professional.html">Professional</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="//colbrydi.github.io/cyberambassadors/">CyberAmbassadors</a></li>
                <li><a href="//see-insight.github.io/">SEE-Insight</a></li>
                <li><a href="//colbrydi.github.io/msupelican/">Pelican / Github.io Tutorial</a></li>
                <li><a href="//cmse.msu.edu">CMSE</a></li>
                <li><a href="//www.msu.edu/">MSU</a></li>
            </ul>
            </div>



        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href=".">Dirk's Home Page</a> &copy; Dr. Dirk Colbry 2022</p>
</footer>

</div> <!-- /container -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="./theme/bootstrap-collapse.js"></script>
<script>var _gaq=[['_setAccount','UA-121560886-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
 
</body>
</html>